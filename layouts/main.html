<!DOCTYPE html>
<html>
<head>
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
  <link rel='stylesheet' href='/main.css'>
</head>

<body ng-app='app'>
  <div ng-controller='DataCtrl' class='container'>
    <h1>Recent Requests</h1>

    <!-- This is for adding requests -->
    <form role='form'>
      <div class='form-group'>
        <label>To</label>
        <input ng-model='requestEmail' class='form-control' placeholder='Email:' />
      </div>
      <div class='form-group'>
        <label>Subject</label>
        <input ng-model='requestSubject' class='form-control' placeholder='Subject:' />
      </div>
      <div class='form-group'>
        <label>Request Items</label>
        <textarea rows='5' ng-model='requestText' class='form-control'></textarea>
      </div>
        <button ng-click='makeRequest()' class='btn btn-default btn-primary'>Make Request</button>
    </form>

    <!-- This is the requests list -->
    <ul class='list-group'>
      <li ng-repeat='request in requests | orderBy: "-date"' class='list-group-item'>
        <div>
          <strong>{{ request.parentUser }}</strong>
          <span ng-if="!request.response"> requested </span>
          <span ng-if="request.response"> received a response to </span>
          <strong>{{ request.subject }}</strong> on <strong>{{ request.date }}</strong>
        </div>
      </li>
    </ul>


  <!-- This is for testing what data is being sent in -->
    {{ requests }}
    {{ users }}
  </div>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
  <script src="/main.js"></script>
</body>
</html>
