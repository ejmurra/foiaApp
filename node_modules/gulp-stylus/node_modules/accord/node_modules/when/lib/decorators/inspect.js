/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */

(function(define) { 'use strict';
<<<<<<< HEAD
define(function(require) {

	var inspect = require('../state').inspect;
=======
define(function() {
>>>>>>> 5aeb704f34ed3491eaa24cdd49c151bf91f304a2

	return function inspection(Promise) {

		Promise.prototype.inspect = function() {
<<<<<<< HEAD
			return inspect(Promise._handler(this));
=======
			var handler = Promise._handler(this);
			var state = handler.state();

			return state === 0 ? { state: 'pending' }
				 : state > 0   ? { state: 'fulfilled', value: handler.value }
						       : { state: 'rejected', reason: handler.value };
>>>>>>> 5aeb704f34ed3491eaa24cdd49c151bf91f304a2
		};

		return Promise;
	};

});
<<<<<<< HEAD
}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));
=======
}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));
>>>>>>> 5aeb704f34ed3491eaa24cdd49c151bf91f304a2
